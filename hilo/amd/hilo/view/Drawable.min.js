/**
 * hilojs 2.0.2 for amd
 * Copyright 2016 alibaba.com
 * Licensed under the MIT License
 */
define("hilo/view/Drawable",["hilo/core/Class","hilo/util/util"],function(i,t){var e=i.create({constructor:function(i){this.init(i)},image:null,rect:null,init:function(i){var n=this,r=n.image;e.isDrawable(i)?n.image=i:t.copy(n,i,!0);var a=n.image;if("string"==typeof a){if(!r||a!==r.getAttribute("src")){n.image=null;var o=new Image;return i.crossOrigin&&(o.crossOrigin="Anonymous"),o.onload=function(){o.onload=null,n.init(o)},void(o.src=a)}a=n.image=r}a&&!n.rect&&(n.rect=[0,0,a.width,a.height])},Statics:{isDrawable:function(i){if(!i||!i.tagName)return!1;var t=i.tagName.toLowerCase();return"img"===t||"canvas"===t||"video"===t}}});return e});