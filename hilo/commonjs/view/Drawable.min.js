/**
 * hilojs 2.0.2 for commonjs
 * Copyright 2016 alibaba.com
 * Licensed under the MIT License
 */
var Class=require("../core/Class"),util=require("../util/util"),Drawable=Class.create({constructor:function(i){this.init(i)},image:null,rect:null,init:function(i){var e=this,r=e.image;Drawable.isDrawable(i)?e.image=i:util.copy(e,i,!0);var a=e.image;if("string"==typeof a){if(!r||a!==r.getAttribute("src")){e.image=null;var t=new Image;return i.crossOrigin&&(t.crossOrigin="Anonymous"),t.onload=function(){t.onload=null,e.init(t)},void(t.src=a)}a=e.image=r}a&&!e.rect&&(e.rect=[0,0,a.width,a.height])},Statics:{isDrawable:function(i){if(!i||!i.tagName)return!1;var e=i.tagName.toLowerCase();return"img"===e||"canvas"===e||"video"===e}}});module.exports=Drawable;