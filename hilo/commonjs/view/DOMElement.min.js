/**
 * hilojs 2.0.2 for commonjs
 * Copyright 2016 alibaba.com
 * Licensed under the MIT License
 */
var Hilo=require("../core/Hilo"),Class=require("../core/Class"),View=require("./View"),Drawable=require("./Drawable"),DOMElement=Class.create({Extends:View,constructor:function(e){e=e||{},this.id=this.id||e.id||Hilo.getUid("DOMElement"),DOMElement.superclass.constructor.call(this,e),this.drawable=new Drawable;var t=this.drawable.domElement=e.element||Hilo.createElement("div");t.id=this.id,this.pointerEnabled&&!t.style.pointerEvents&&(t.style.pointerEvents="visible")},_render:function(e,t){this.onUpdate&&this.onUpdate(t)===!1||(e.transform(this),this.visible&&this.alpha>0&&this.render(e,t))},render:function(e,t){if("dom"!==e.renderType){var i=e.canvas,n=this.parent,r=e._domElementContainer;e._domElementContainer||(r=e._domElementContainer=Hilo.createElement("div",{style:{position:"absolute",transform:"scale3d("+n.scaleX+","+n.scaleY+", 1)",transformOrigin:"0 0",zIndex:"1"}}),i.parentNode.insertBefore(e._domElementContainer,i.nextSibling));var s,a=this.drawable.domElement,l=this.depth,o=r.childNodes[0];if(a.parentNode)return;for(;o&&3!=o.nodeType&&(s=parseInt(o.style.zIndex)||0,!(s<=0||s>l));)o=o.nextSibling;r.insertBefore(this.drawable.domElement,o)}else e.draw(this)}});module.exports=DOMElement;